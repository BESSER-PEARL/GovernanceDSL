Policy TestPolicy {
    Scopes:
        Task pr : Pull request
    Participants:
        Roles : Maintainers
    Conditions:
        Deadline reviewDeadline : 3 days
        Deadline qaDeadline : 2 days
        MinVotes reviewVotes : 2
        MinVotes qaVotes : 1
    Rules:
        reviewPhase : Majority {
            people Reviewers
            conditions reviewDeadline, reviewVotes
        }
        qaPhase : Majority {
            people QA
            conditions qaDeadline, qaVotes
        }
        phasedRule : Phased {
            phases {
                reviewPhase
                qaPhase
            }
        }
    Scope: TestActivity
}
PhasedPolicy phasedPolicy {
    Scopes:
        Task pr : Pull request
    Phases {
        Policy phase_1 {
            Scopes:
                Task TestTask : Pull request
            Participants:
                Roles : Maintainers
            Conditions:
                Deadline reviewDeadline : 14 days
                VotingCondition votCond : minVotes 2 , ratio 1.0
            Rules:
                majorityRule : Majority {
                    people Maintainers
                    conditions reviewDeadline, votCond
                }
            Applied to: TestTask
        }
        Policy phase_2 {
            Scopes:
                Task TestTask : Pull request
            Participants:
                Roles : Maintainers
            Conditions:
                VotingCondition votCond : minVotes 1 , ratio 1.0
            Rules:
                majorityRule : Majority {
                    people Maintainers
                    conditions votCond
                }
            Applied to: TestTask
        }
    }
    Applied to: pr
}